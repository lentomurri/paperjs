<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Animation Project</title>
  <link rel="stylesheet" href="css/master.css">
  <script type="text/javascript" src="js/back.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.1/howler.core.min.js">
  </script>
  <script type="text/javascript" src="js/paper-full.js"></script>

  <script type="text/paperscript" canvas="myCanvas">
    var circles = [];
    var squares = [];
  var keydata = {
    0: {
      sound: new Howl({
        src: ['https://raw.githubusercontent.com/jonobr1/Neuronal-Synchrony/master/assets/A/bubbles.mp3']
      })
    },
    1: {
      sound: new Howl({
        src: ['https://raw.githubusercontent.com/jonobr1/Neuronal-Synchrony/master/assets/A/squiggle.mp3']
      })
    },
    2: {
      sound: new Howl({
        src: ['https://raw.githubusercontent.com/jonobr1/Neuronal-Synchrony/master/assets/A/prism-1.mp3']
      })
    },
    3: {
      sound: new Howl({
        src: ['https://raw.githubusercontent.com/jonobr1/Neuronal-Synchrony/master/assets/A/moon.mp3']
      })
    },
    4: {
      sound: new Howl({
        src: ['https://raw.githubusercontent.com/jonobr1/Neuronal-Synchrony/master/assets/A/veil.mp3']
      })
    },
    5: {
      sound: new Howl({
        src: ['https://raw.githubusercontent.com/jonobr1/Neuronal-Synchrony/master/assets/C/ufo.mp3']
      })
    }
  }

//function to create random circle
  function createCircle() {
    var newCircle = newDimension();
    //randomize colors
    var red = randomise();
    var green = randomise();
    var blue = randomise();
    //create new Circle on pressure of a key;
    var fillColor = new Color(red,green,blue, 0.8);
    //creates new circles with random points and sizes
    var circle = new Path.Circle(newCircle.point, newCircle.size);
    circle.fillColor = fillColor;
    //pushes new circles in the array
    circles.push(circle);
  }

  function createSquare() {
    var newSquare = newDimension();
    var red = randomise();
    var green = randomise();
    var blue = randomise();
    var fillColor = new Color(red,green,blue, 0.8);
    var rectLeft = new Point(newSquare.point, newSquare.point)
    var rectSize = new Size(newSquare.size, newSquare.size)
    var square = new Path.Rectangle(rectLeft, rectSize);
    square.fillColor = fillColor;
    squares.push(square);
  }

//function to create random rgb values
  function randomise() {
    var random = Math.random() * 1;
    return random;
  }

  //function to create random size and point
  var newDimension = function() {
    var maxPoint = new Point(view.size.width, view.size.height);
    var point = maxPoint * Point.random() +1;
    var size = Math.random() * 400 +1;
    return {
      maxPoint: maxPoint,
      point: point,
      size : size
    }
  }

  function onKeyDown(event) {
    //every different key create squares or circles
    switch(event.key)
    {
      case "a": case "b": case "c": case "d": case "e":
        createSquare();
        keydata[0].sound.play();
        break;
      case "f": case "g": case "h": case "i": case "j":
        createCircle();
        keydata[1].sound.play();
        break;
      case "k": case "l": case "m": case "n": case "o":
        createSquare();
        keydata[2].sound.play();
        break;
      case "p": case "q": case "r": case "s": case "t":
        createCircle();
        keydata[3].sound.play();
        break;
      case "u": case "v": case "w": case "x": case "y": case "z":
      createSquare();
        keydata[4].sound.play();
        break;
      default:
      createCircle();
        keydata[5].sound.play();
        break;
    }
  }

  function onFrame(event) {
    for (var i = 0; i < circles.length; i++) {
      //applies colour changes and scaling to the circles
      circles[i].fillColor.hue += 1;
      circles[i].scale(.9);
    }
    for (var i = 0; i < squares.length; i++) {
      //applies colour changes and scaling to the circles
      squares[i].fillColor.hue += 1;
      squares[i].scale(.9);
    }
  }
</script>
</head>

<body>
  <canvas id="myCanvas" resize></canvas>
</body>

</html>
